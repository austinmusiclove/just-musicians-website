{"version":3,"file":"index.js","mappings":"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","sources":["webpack://justmusicians/./src/modules/LeafletMap.js","webpack://justmusicians/webpack/bootstrap","webpack://justmusicians/webpack/runtime/define property getters","webpack://justmusicians/webpack/runtime/hasOwnProperty shorthand","webpack://justmusicians/webpack/runtime/make namespace object","webpack://justmusicians/./src/index.js"],"sourcesContent":["//import L from 'leaflet'; NPM version does not work; it was loading tiles out of order; switched to loading the CDN version in functions.php\n\nclass LeafletMap {\n    constructor() {\n        // Set defaults\n        this.mapCenter = [30.274271, -97.740317];\n        this.zoomLevel = 10;\n        this.enablePopups = true;\n\n        // check for map options\n        var mapInitDiv = document.getElementById('map-init-div');\n        if (mapInitDiv) {\n            var latitude = mapInitDiv.getAttribute('latitude');\n            var longitude = mapInitDiv.getAttribute('longitude');\n            var initZoomLevel = mapInitDiv.getAttribute('zoom-level');\n            var enablePopups = mapInitDiv.getAttribute('enable-popups');\n            if (latitude && longitude) { this.mapCenter = [latitude, longitude]; }\n            if (initZoomLevel) { this.zoomLevel = initZoomLevel; }\n            if (enablePopups && enablePopups == \"false\") { this.enablePopups = false; }\n        }\n        // create a map for element with id leaflet-map\n        var mapElement = document.getElementById('leaflet-map');\n        if (mapElement !== null) {\n            this.map = L.map('leaflet-map', {}).setView(this.mapCenter, this.zoomLevel);\n            L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {\n                maxZoom: 19,\n                attribution: '&copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>'\n            }).addTo(this.map);\n            //var marker = L.marker([30.274271, -97.740317]).addTo(this.map);\n            document.addEventListener(\"DOMContentLoaded\", this.addMarkers.bind(this));\n        }\n    }\n\n    addMarker(latitude, longitude) {\n        var marker = L.marker([latitude, longitude]).addTo(this.map);\n    }\n\n    addMarkers() {\n        /*\n        var cluster = L.markerClusterGroup({\n            showCoverageOnHover: false,\n            zoomToBoundsOnClick: false,\n            spiderfyOnMaxZoom: true,\n            removeOutsideVisibleBounds: true,\n            maxClusterRadius: 40,\n            spiderfyPolylineOptions: { weight: 1.5, color: '#442A88', opacity: 0.5 }, // FCECAC FFE77F EE7E7E EB4C67 B1A6CE 442A88\n            iconCreateFunction: this.iconCreationFunction\n        });\n        */\n        var coordinateElements = document.getElementsByClassName('coordinate-data');\n        //var eventLinks = document.getElementsByClassName('event-url');\n        //var markers = [];\n        for (var i = 0; i < coordinateElements.length; i++) {\n            var latitude = coordinateElements[i].getAttribute('latitude');\n            var longitude = coordinateElements[i].getAttribute('longitude');\n            //var eventName = coordinateElements[i].getAttribute('eventName');\n            var coordinateTitle = coordinateElements[i].getAttribute('coordinateTitle');\n            var reviewCount = coordinateElements[i].getAttribute('reviewCount');\n            var coordinateLinkUrl = coordinateElements[i].getAttribute('coordinateLinkUrl');\n            //var eventDateTime = coordinateElements[i].getAttribute('eventDateTime');\n            //var venueImageUrl = coordinateElements[i].getAttribute('venueImageUrl');\n            //var eventUrl = \"\";\n            //if (eventLinks.length > i) { eventUrl = eventLinks[i].getAttribute('href'); }\n\n            // Build marker\n            var marker = L.marker([latitude, longitude], {\n                icon: new L.DivIcon({ html: '<div class=\"jm-map-icon-dot\"></div>', className: 'jm-map-icon', iconSize: new L.Point(30, 30) }),\n                title: 'marker',//venueName,\n                //alt: \"map marker for \" + venueName\n            })\n\n            // Build Popup\n            if (this.enablePopups) {\n                var popupContent = `\n                    <div style=\"margin: 0; width: 271px;\">\n                        <a class=\"map-popup-image-container\" href=\"${coordinateLinkUrl}\">\n                            <div class=\"map-popup-headings\">\n                                <h3>${coordinateTitle}</h3>\n                            </div>\n                        </a>\n                        <div class=\"map-popup-date-time\">${reviewCount} reviews</div>\n                    </div>\n                `;\n                var popup = L.popup()\n                    .setLatLng([latitude, longitude])\n                    .setContent(popupContent)\n\n                marker.bindPopup(popup);\n            }\n\n            //markers.push(marker);\n            marker.addTo(this.map);\n        }\n        //cluster.addLayers(markers);\n        //this.map.addLayer(cluster);\n    }\n\n    iconCreationFunction(cluster) {\n        var childCount = cluster.getChildCount();\n        return new L.DivIcon({ html: '<div><span >' + childCount + '</span></div>', className: 'jm-map-cluster-icon', iconSize: new L.Point(40, 40) });\n    }\n}\n\nexport default LeafletMap\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// Import modules\nimport LeafletMap from \"./modules/LeafletMap\";\n\n// Instantiate\nconst leafletMap = new LeafletMap();\n"],"names":["LeafletMap","constructor","mapCenter","zoomLevel","enablePopups","mapInitDiv","document","getElementById","latitude","getAttribute","longitude","initZoomLevel","mapElement","map","L","setView","tileLayer","maxZoom","attribution","addTo","addEventListener","addMarkers","bind","addMarker","marker","coordinateElements","getElementsByClassName","i","length","coordinateTitle","reviewCount","coordinateLinkUrl","icon","DivIcon","html","className","iconSize","Point","title","popupContent","popup","setLatLng","setContent","bindPopup","iconCreationFunction","cluster","childCount","getChildCount","leafletMap"],"sourceRoot":""}